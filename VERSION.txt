2.2.8


2025-12-18 v2.2.8 - データセット開設フィルタUI改善 + 基本情報キャッシュ判定修正 + ドキュメント更新
	- データセット開設（新規開設/新規開設2）: ロール/サブグループ/テンプレート/組織フィルタのラベル整理と、ロールフィルタに「フィルタなし」を追加。
	- 基本情報: サブグループ0件ケースで subGroups/ を欠損扱いにせず、不要な再取得を抑制。
	- VERSION.txt/README/CHANGELOG/リリースノート等のバージョン表記を2.2.8へ統一。


2025-12-17 v2.2.7 - Windows / pytest-qt テスト安定化 + バージョン表記更新
	- pytest実行時のみ、ネイティブUI操作（ダイアログ/可視化/強制processEvents等）を抑制し、0x8001010d 系の致命的クラッシュを回避。
	- テスト時のウィジェット生成・showイベント周辺の副作用を低減し、テストスイートの完走性を改善。
	- VERSION.txt/README/CHANGELOG/リリースノート等のバージョン表記を2.2.7へ統一。


2025-12-13 v2.2.6 - データポータルアップロードUI改善 + TAGビルダーAI提案追加
	- データポータルのデータセットアップロード画面で、取得済み画像一覧を4列テーブル化（選択/ファイル名/キャプション/アップロード）し、キャプション編集・ヘッダ固定・ソート・Up済表示に対応。
	- データセット編集のTAGビルダーに「AI提案」タブを追加し、AI問い合わせ→候補表示→採用/全て採用、リトライ提案、プロンプト全文/回答全文確認を実装。
	- VERSION.txt/README/CHANGELOG/リリースノート等のバージョン表記を2.2.6へ統一。


2025-12-10 v2.2.5 - AIサジェスト管理の安定化とドキュメント更新
	- AIサジェスト機能定義ダイアログでリスト再構築時にスペーサとウィジェットを安全に破棄するようにし、閉じた直後にエラー表示が出る問題を解消。
	- AI拡張ボタンの再読込に対するウィジェットテスト `test_extension_buttons_reload_without_error` を追加し、設定保存後の再描画が常に成功することを自動検証。
	- v2.2.4リリースノートをアーカイブへ移動し、README/ヘルプ/セットアップスクリプト等のバージョン表記を2.2.5へ統一してリビジョン管理を更新。

2025-12-10 v2.2.4 - 設備/報告書リスティングとキャッシュ・検索の刷新
	- Listing Tabs: フィルタ/ソート可能な共通テーブルウィジェット（ListingTabBase）を実装し、設備タブ/報告書タブから最新JSONを即座にブラウズ・再読込できるように改善。
	- Report Fetcher: ReportCacheManagerとキャッシュモード切替UIを追加し、取得済みレコードをスキップする高速モードと強制再取得モードを選択可能に（ログ・ワーカーも更新）。
	- Basic Info: 検索設定ダイアログを新設し、ユーザー名/手動キーワード/機関ID+年度レンジの一括生成から検索バッチを構成できるようにして連続実行を支援。
	- Equipment Scraper: facility.phpの一覧スクレイプとID収集ロジックを追加し、全件取得や連続不在検知を通じて設備キャッシュの欠損を自動把握。

2025-12-09 v2.2.3 - まとめXLSXの選択的出力・Explorer連携・テスト強化
	- Basic Info: groupOrganizationsとgroupProjectsを含むJSONをRichTextTableBuilderに渡すかを選べるダイアログを追加し、既定/カスタムファイルの分割出力に対応
	- まとめXLSX: 出力後に生成されたファイルを一覧表示して直接開けるUIを追加し、履歴からの再オープンとエラー通知を実装
	- Explorer連携: まとめフォルダをエクスプローラーで即座に開くボタンと、生成後に自動でフォーカスするショートカットを追加
	- テスト/サンプル: groupProjects・subGroupsを含むサンプルJSONを追加し、選択的出力とExplorerボタンを検証するユニット/ウィジェットテストを拡充

2025-12-08 v2.2.2
	- データエントリー統計: `data_entry_summary` ヘルパーで dataEntry JSON を集計し、DatasetタブとPortal編集ダイアログで同じ統計を参照できるよう統一
	- データポータル: PortalEditDialog に共用合計２のファイル数/総サイズを自動適用するボタンを追加し、API再取得フローとプレビュー確認を実装
	- AI/AutoSetting: DatasetContextCollector が STRUCTUREDファイルを JSON へ変換し `{json_from_structured_files}` プレースホルダに投入、テンプレート/ポータルで利用可能に
	- テスト: data_entry_summary shared2集計・STRUCTURED JSON生成・ポータル自動入力ボタンのユニット/ウィジェットテストを追加

2025-12-08 v2.2.1
	- 基本情報タブ: テンプレート/装置チャンクの保存先を事前生成し、不要ファイルを自動クリーンアップ
	- APIヘルパー: ページネーション処理中にチャンクファイルを書き出し、リトライ時の再利用に対応
	- バイナリ配布: config/input/output フォルダを `%LOCALAPPDATA%/ARIM-RDE-TOOL/` 配下に作成し、Program Files 配置時でも書き込み可能に統一
	- テスト: チャンク処理ユニットテストを追加し、開発リポジトリで合格を確認

2025-12-06 v2.1.24
	- サブグループ完全性チェック: groupOrgnizationsとsubGroupsの差分を検出し、自動で再取得ループを実行
	- 取得ループの詳細ログ: 成功/失敗/スキップ件数を逐次出力し、force_downloadとの組み合わせも明示
	- グループ選択ダイアログ: UIスレッドでの同期実行に固定し、基本情報取得時のクラッシュを解消
	- データセットフィルタ: 既定プログラムフィルタを「all」に設定し、初期表示を安定化
	- 認証情報保存: 暗号化ファイルをencrypted_dataキーでラップし、既存データを上位互換で読み込み

2025-12-04 v2.1.16
	- データセット修正タブ: 説明文の「AI CHECK」ボタンを追加
	  - 品質チェック機能: 説明文の妥当性を簡易評価（合格/微修正推奨/要修正/判定不能）
	  - AIRequestThread での非同期実行（タイムアウト30秒・リトライ最大2回）
	  - JSON検証・修正・QMessageBox での結果表示
	  - エラーハンドリング: 未選択/未入力/解析エラー/実行エラー完全対応
	- AI CHECK 結果表示ダイアログ: フォントサイズ改善・可読性向上
	  - スコア: 18px → 24px, 文字数: 14px → 20px に拡大
	  - 判定結果: 14px → 18px に拡大, テキストセクション: 10px → 11px + line-height 1.5
	  - ボタン: 12px フォント + 36px 高さに統一
	  - 判定コメント表示領域: 100px → 120px に拡大
	  - 詳細ダイアログラベル: 12px（太字）に統一, テキスト: 11px

2025-12-03 v2.1.15
	- バージョンリビジョン更新（2.1.15）
	- 配布ドキュメント更新・GitHubリリース準備（タグ・バイナリ添付）
	- インストーラー配布物更新: `dist/arim_rde_tool_setup.2.1.15.exe`

2025-12-02 v2.1.14
	- データポータル自動設定: 情報源選択ダイアログに説明文表示を追加
	- 装置・プロセス自動設定: 2段階ダイアログフロー実装（情報源選択→選択的置換）
	- 設備リンク: 設備ID+設備名の形式に改善（例: "NM-005:液中原子間力顕微鏡"）
	- AutoSettingDialog: 装置・プロセスリスト形式の表示対応
	- facility_link_helper: 設備名取得・名称付きアンカー生成機能追加
	- テスト: AutoSettingDialog用テスト5件追加（widget汚染対策実装）

2025-12-02 v2.1.13
	- データセットタブに「🌐 ブラウザで表示」ボタン追加（公開ページを既定ブラウザで起動）
	- 装置・プロセス 自動設定: 設備IDからリンクタグ形式へ自動生成（最新facilities JSONからcode解決）
	- ユーティリティ追加: data_portal_public.py / facility_link_helper.py
	- 安定化: パス管理の誤インポート修正（config.common参照に統一）

2025-12-01 v2.1.12
	- データセット修正タブUI改善（関連データセット/関連情報ビルダーダイアログ追加）
	- データエントリー一覧テーブル改善（列順序修正・日本時間表示）
	- 助成番号からの一括追加機能実装

2025-11-29 v2.1.11
	- 設定タブ整理（ネットワーク/アプリケーション/インポート非表示化）
	- About / Usage ヘルプドキュメント全面更新
	- 起動時のみウィンドウ位置設定ポリシー確立（再配置排除）
	- CLI引数 `--log-level` によるログレベル制御追加
	- 既存テストスイート維持（機能的変更なし）

