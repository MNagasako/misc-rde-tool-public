# 更新履歴

このタブは、About タブの「更新点（リリースノート）」部分を分離したものです。

## 最新版の主な更新点

| 分類 | 内容 |
| --- | --- |
| テーマ | テーマ切替時に特定の破棄順序でクラッシュする問題を修正。 |
| テーマ | 一覧タブ/各種ウィジェットのローカルQSSがテーマ切替に追従しない問題を修正。 |
| テスト/品質 | ユニット/ウィジェットテストを追加・更新して回帰を抑止。 |

## v2.4.15 の主な更新点

| 分類 | 内容 |
| --- | --- |
| 更新 | 更新ダウンロードの通信ログをダイアログに表示し、失敗時の切り分けを容易化。 |
| 更新 | bytes ベースの進捗更新に統一し、Content-Length 不明でも「固まって見える」状況を緩和。 |
| 安定性 | 更新ダイアログのUI更新を Signal/QueuedConnection 経由に統一し、スレッド跨ぎの Qt クラッシュを抑止。 |
| UX | インストーラ起動時に「更新のため終了（クラッシュではない）」メッセージを表示。 |
| テスト/品質 | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.14 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データセット一覧 | ポータル列の公開状態表示を改善（公開JSON補完/ログインCSV一括判定/セルクリック再確認+セル内スピナー）。 |
| パフォーマンス | 個別アクセス回数を抑制（キャッシュの1日維持・上書き保存、クリック時のみ再確認）。 |
| テスト/品質 | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.13 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データセット一覧 | 範囲フィルタ群を2行表示に変更し、視認性を改善。 |
| フィルタ | TAG数の範囲フィルタが絞り込みに反映されない不具合を修正。 |
| データ整合 | file_size は bytes(int) を保持し、エクスポートも bytes を出力するよう統一。 |
| テスト/品質 | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.12 の主な更新点

| 分類 | 内容 |
| --- | --- |
| 一覧タブ | 大規模データで固まって見える（無限スピナー）ケースを抑止するため、一覧生成の重い処理を抑制。 |
| 安定性 | 一覧タブの非同期リロードで QThread の寿命管理を改善し、タブ切替等での破棄競合を抑止。 |
| テスト/品質 | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.11 の主な更新点

| 分類 | 内容 |
| --- | --- |
| サブグループ一覧 | 複数要素の改行表示、関連データ/試料の個別リンク、長文省略+ツールチップを改善。 |
| UI/可読性 | 行高さを明示制御し、過大な余白で1行しか見えない問題を抑制。 |
| フィルタUI | 範囲フィルタの折り返し時にラベルが重なって見える問題を修正。 |
| テスト/品質 | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.10 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データセット一覧 | 範囲フィルタの1行化（「～」表記）・フィルタ領域の折りたたみ（要約表示）を追加。 |
| パフォーマンス | 一覧生成のインメモリキャッシュにより表示を高速化。 |
| エクスポート | CSV/XLSXエクスポートで日時付きの既定ファイル名を保存ダイアログにサジェスト。 |
| テスト/品質 | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.9 の主な更新点

| 分類 | 内容 |
| --- | --- |
| リリース/品質 | リビジョンアップ（v2.4.9）。REVISION/VERSION.txt/README/ヘルプのバージョン表記を統一。 |
| ドキュメント | 実装と整合するようドキュメントを更新し、古いリリースノート/旧ドキュメントをアーカイブへ退避。 |
| テスト | ユニット/ウィジェット/統合テストを実行して回帰を抑止。 |

## v2.4.8 の主な更新点

| 分類 | 内容 |
| --- | --- |
| AI | AI説明文提案ダイアログの「報告書」タブを拡張し、横断技術領域（主/副）の列表示と事前フィルタに対応。 |
| AI | 結果一覧タブ（対象=報告書）で、年度/機関コード/横断/重要（主/副）列の表示と絞り込みを追加。 |
| AI/品質 | 報告書ログの target_key が課題番号のみの場合でも converted.xlsx と結合して値を補完し、空欄を抑制。 |
| テスト/品質 | 上記 UI のウィジェットテストを更新し、回帰を防止。 |

## v2.4.7 の主な更新点

| 分類 | 内容 |
| --- | --- |
| 設定/メール | メールタブの非機微設定（From/SMTP host等）を OS キーチェーンへ退避し、上書きインストール等で設定JSONが初期化されても自動復元できるように改善。 |
| UI | 設定画面の MISC タブをタブ一覧の最後尾へ移動。 |
| 更新 | MISC タブのアプリ更新後に自動で再起動するフローを追加（インストーラ完了待ち→再起動を別プロセスへ委譲）。 |
| テスト/品質 | Windows + PySide6 + pytest-qt の長時間実行で発生し得るクラッシュを回避するため、描画監視のイベントフックをroot配下に限定して安定化。 |

## v2.4.6 の主な更新点

| 分類 | 内容 |
| --- | --- |
| テスト/品質 | Windows + PySide6 + pytest-qt 環境での長時間スイート実行を安定化するため、待機処理/実行手順を見直し。 |
| テスト/運用 | フルスイートを「非widget → widget」に分割して実行できるようにし、単一コマンドでの完走性を改善。 |
| ドキュメント | VERSION/README/ヘルプのバージョン表記を v2.4.6 に更新。 |

## v2.4.5 の主な更新点

| 分類 | 内容 |
| --- | --- |
| テスト/品質 | 統合テストでの patch 互換性を維持するため、フォーム生成関数の公開API（モジュールレベル）を復旧。 |
| データセット | 起動ペイロードが先着した場合でもデータセット事前選択が外れないよう、初期ロードと受信登録タイミングを調整。 |
| パス管理 | 診断ユーティリティのパス解決で CWD 依存を排除し、動的パス解決へ統一。 |
| テーマ | スプラッシュ画面の文字色の直書きを廃止し、テーマキーから取得するよう改善。 |

## v2.4.4 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データ取得2 | メール通知タブ: 対象通知リストのフィルタを自動通知の送信対象にも適用（表示されていないものは送信しない）。 |
| データ取得2 | メール通知タブ: 「通知対象抽出」で最新情報取得も同時に行うオプションを追加。 |
| データ取得2 | メール通知タブ: 基準日時に「自動（現在）/直接指定」モードを追加。 |
| データ取得2 | メール通知タブ: 削除テンプレが再起動で復活する不具合を抑止。 |

## v2.4.3 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データ取得2 | メール通知タブの運用を改善（運用モード表示の簡略化、本番送信先に設備管理者を追加）。 |

## v2.4.2 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データ取得2 | メール通知タブを拡張（テンプレ編集の分離、宛先選択の明確化、送信ログ運用の改善、設備管理者プレースホルダ対応）。 |
| 設備 | 設備管理者（設備IDごと）の編集・永続化UIを追加し、装置名フォールバック補完と表示不具合を修正。 |

## v2.4.1 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データ取得2 | メール通知タブを改善（運用モード: テスト/本番、送信先: 投入者/所有者/両方、抽出範囲プリセット、送信ログ閲覧）。 |
| メール | Gmail/SMTPのFrom表示名（任意）を追加し、送信ヘッダへ反映。 |

## v2.4.0 の主な更新点

| 分類 | 内容 |
| --- | --- |
| データ登録 | 「登録状況」タブを拡張し、自動確認（10秒ポーリング）・進捗可視化・停止トグル・リンク列縮小・水平スクロール対応・追加列（投入者/所有者/エラー情報）を実装。 |
| パフォーマンス | 大量行でも固まりにくいよう、キャッシュ読込の非同期化とセルクリック方式へ最適化。 |
| UI/UX | 登録状況タブで発生していたウィンドウ固定幅化を解消し、リサイズ可能に修正。 |
