# ARIM RDE Tool - Release Notes v2.2.9

**リリース日**: 2025年12月19日

---

## 概要

v2.2.9 は、アプリ起動後の自動ログインにおけるトークン取得を安定化（固定 sleep 依存の廃止）し、併せてテストスイートのオフライン完走性を改善したリリースです。

---

## 主要な改善点

### 🔐 自動ログイン安定化（トークン出現待ち）

- WebView の `loadFinished` / 固定待機に依存せず、storage へトークンが出現することを条件に待機（バックオフ + 総タイムアウト）
- Material 側トークンの取得遅延（MSAL 等の非同期書き込み）に起因する起動直後の自動ログイン失敗を低減
- **自動ログイン時のみ**、RefreshToken が存在する場合にフォールバックでアクセストークン再取得を試行

### 🧪 テスト環境オフライン安定化

- pytest 実行時の外部 HTTP 依存を抑制し、オフライン環境でもテストスイートが完走できるように調整
- ネットワーク・プロキシ環境に左右されず、CI/ローカルでの安定性を向上

### 📚 バージョン表記更新

- VERSION.txt/README/CHANGELOG/リリースノート等の表記を v2.2.9 に統一

---

## テスト状況

バージョンアップ時は、少なくとも以下の確認を推奨します。

- `./.venv/Scripts/python.exe -m pytest -q -k 'test_revision_sync'`
- `./.venv/Scripts/python.exe -m pytest -q`
