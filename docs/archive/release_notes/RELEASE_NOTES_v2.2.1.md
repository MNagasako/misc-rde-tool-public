# リリースノート v2.2.1

**リリース日**: 2025年12月8日

---

## 概要
v2.2.1 は、基本情報タブで扱うテンプレート/装置チャンクの永続化と整合性を強化しつつ、バイナリ実行時のデータ保存先をユーザーディレクトリに統一するメンテナンスリリースです。

---

## 主な改善
### 📦 基本情報タブのチャンク永続化
- テンプレート/装置チャンクの保存先を事前生成し、欠損や権限エラーを防止。
- 再取得時に不整合が生じないよう、不要チャンクを自動クリーンアップ。

### 🔁 APIページネーションの堅牢化
- ページネーションヘルパーでチャンクファイルを書き出し、ネットワーク再試行時に再利用できるように改善。
- 長時間実行タスクでも途中離脱後の再実行が容易になりました。

### 🗂️ バイナリ版のユーザーディレクトリ配置
- バイナリ実行時は `config/`, `input/`, `output/` を `%LOCALAPPDATA%/ARIM-RDE-TOOL/` 配下に自動作成。
- Program Files など書き込み制限のあるフォルダにインストールしても動作し、ユーザーごとに独立した設定を保持できます。
- 旧バージョンから移行する場合は、既存の `config/`, `input/`, `output/` をこのディレクトリにコピーしてください。

---

## テスト結果
- 開発リポジトリにてテンプレート/装置チャンク処理のユニットテストを追加し、全件合格を確認。

---

## 互換性・注意点
- バイナリ版のフォルダ配置がユーザーディレクトリに変更されたため、過去バージョンの設定や入力ファイルを利用する場合は `%LOCALAPPDATA%/ARIM-RDE-TOOL/` 配下へコピーしてください。
- ソースコード実行時（`python src/arim_rde_tool.py`）のディレクトリ構成は従来通りプロジェクトルート直下です。

---

## 配布物
- インストーラー: `dist/arim_rde_tool_setup.2.2.1.exe`（GitHub Releases に添付）
