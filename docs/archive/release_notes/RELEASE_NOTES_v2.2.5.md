# ARIM RDE Tool - Release Notes v2.2.5

**リリース日**: 2025年12月10日

---

## 概要

v2.2.5 は AI サジェスト管理ダイアログの安定化とバージョン管理ドキュメントの整理を軸としたメンテナンスリリースです。AI 拡張ボタン設定ダイアログを閉じた直後に発生していた「AI拡張設定の読み込みエラー」を解消し、同フローをウィジェットテストで網羅的に検証できるようにしました。併せて README / ヘルプ / セットアップ関連ファイルの表記を 2.2.5 へ統一し、旧版リリースノートをアーカイブへ整理しています。

---

## 主要な改善点

### 🧠 AIサジェスト管理ダイアログの安定化
- `AIExtensionConfigDialog` のレイアウトクリア手順を刷新し、`takeAt()` でスペーサやストレッチ項目を安全に破棄してからウィジェットを再構築。
- 保存後に AI 説明文提案タブへ戻ってもボタンキャッシュと内部リストが同期され、「AI拡張設定の読み込みエラー」が表示されなくなります。

### 🧪 ウィジェットテストの追加
- `tests/widgets/test_ai_extension_spinner.py` に `test_extension_buttons_reload_without_error` を追加し、設定保存→再読込シーケンスで例外が発生しないことと生成される `SpinnerButton` 数が期待通りであることを自動検証。
- 既存のスピナー表示テストと合わせて AI 拡張タブのリロードワークフローをフルカバーし、将来的なリグレッションを防止します。

### 📚 ドキュメント & リリース整理
- README / readme.txt / LICENSE-dist.txt / ヘルプ群 / セットアップスクリプトのバージョン表記を 2.2.5 へ更新し、利用者向けの案内に差異が出ないよう統一。
- v2.2.4 リリースノートを `docs/archive/` へ移動し、本ファイルを最新リリースノートとして追加して履歴管理を継続。

---

## テスト状況

- `./.venv/Scripts/python.exe -m pytest -q tests/widgets/test_ai_extension_spinner.py -k reload`
- `./.venv/Scripts/python.exe -m pytest -q tests/unit/test_revision_sync.py`

上記コマンドはいずれも開発リポジトリで実行し、追加テストを含めて合格を確認済みです。

---

## アップグレード手順

1. v2.2.5 のインストーラーまたは配布 ZIP を取得し、既存環境に適用します。
2. アプリを起動し、「AI説明文提案」タブ → 「設定編集」から AI サジェスト管理ダイアログを開いてボタンの追加・削除を行い、エラーが発生しないことを確認します。
3. AI 拡張タブへ戻り、ボタンが再生成されていることと実行後に再び有効化されることを確認します。
4. README やヘルプメニューの About/Usage に表示されるバージョン番号が v2.2.5 であること、および v2.2.4 のリリースノートがアーカイブに移動していることを確認してください。
